<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>리뷰 통계</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<h1>리뷰 통계 페이지</h1>

<h2>📅 날짜별 리뷰 개수</h2>
<table>
  <thead>
  <tr><th>날짜</th><th>리뷰 개수</th></tr>
  </thead>
  <tbody>
  <tr th:each="review : ${reviewCountByDate}">
    <td th:text="${review.reviewDate}"></td>
    <td th:text="${review.reviewCount}"></td>
  </tr>
  </tbody>
</table>

<h2>📊 평균 만족도 점수</h2>
<p>🚗 차량 상태 만족도: <span th:text="${averageSatisfaction?.avgCarCondition ?: '데이터 없음'}"></span></p>
<p>📝 예약 과정 만족도: <span th:text="${averageSatisfaction?.avgReservationProcess ?: '데이터 없음'}"></span></p>
<p>💰 가격 만족도: <span th:text="${averageSatisfaction?.avgPrice ?: '데이터 없음'}"></span></p>

<h2>👥 성별·연령대별 리뷰 통계</h2>
<table>
  <thead>
  <tr>
    <th>성별</th><th>연령대</th><th>리뷰 개수</th>
    <th>차량 상태 만족도</th><th>예약 과정 만족도</th><th>가격 만족도</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="stat : ${reviewStatsByGenderAge}">
    <td th:text="${stat.userGender}"></td>
    <td th:text="${stat.ageGroup}"></td>
    <td th:text="${stat.reviewCount}"></td>
    <td th:text="${stat.avgCarCondition}"></td>
    <td th:text="${stat.avgReservationProcess}"></td>
    <td th:text="${stat.avgPrice}"></td>
  </tr>
  </tbody>
</table>

</body>
</html>
