<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>대시보드</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<h1>📊 DASHBOARD</h1>

<!-- 전체 회원 통계 -->
<h2>👥 전체 회원 수</h2>
<p class="total-users">총 회원 수: <span th:text="${userStats.totalUsers}"></span> 명</p>

<!-- 성별 통계 -->
<h2>🚻 성별 통계</h2>
<table>
  <tr>
    <th>성별</th>
    <th>남성</th>
    <th>여성</th>
  </tr>
  <tr>
    <td>인원 수</td>
    <td th:text="${userStats.genderStats != null and userStats.genderStats.size() > 0 ? userStats.genderStats[0].count : 0}">0</td>
    <td th:text="${userStats.genderStats != null and userStats.genderStats.size() > 1 ? userStats.genderStats[1].count : 0}">0</td>
  </tr>
</table>

<!-- 연령대 통계 -->
<h2>📌 연령대별 통계</h2>
<table>
  <tr>
    <th>연령대</th>
    <th>인원 수</th>
  </tr>
  <tr th:each="entry : ${userStats.ageGroups}">
    <td th:text="${entry.key}"></td>
    <td th:text="${entry.value}"></td>
  </tr>
</table>

<!-- 예약이 많은 시간대 -->
<h2>⬆️ 예약이 많은 시간대 TOP 5</h2>
<table>
  <tr>
    <th>시간대</th>
    <th>예약 횟수</th>
  </tr>
  <tr th:each="hour : ${topRentalHours}">
    <td th:text="${hour.label + '시'}"></td>
    <td th:text="${hour.count}"></td>
  </tr>
</table>

<!-- 가장 많이 대여된 지역 -->
<h2>🚗 가장 많이 대여한 지역 TOP 5</h2>
<table>
  <tr>
    <th>지역</th>
    <th>대여 횟수</th>
  </tr>
  <tr th:each="rental : ${topRentalLocations}">
    <td th:text="${rental.label}"></td>
    <td th:text="${rental.count}"></td>
  </tr>
</table>

<!-- 가장 많이 반납한 지역 -->
<h2>🔄 가장 많이 반납한 지역 TOP 5</h2>
<table>
  <tr>
    <th>지역</th>
    <th>반납 횟수</th>
  </tr>
  <tr th:each="returnData : ${topReturnLocations}">
    <td th:text="${returnData.label}"></td>
    <td th:text="${returnData.count}"></td>
  </tr>
</table>

<!-- 차량별 평균 렌트 시간 -->
<h2>⏳ 차량별 평균 렌트 시간 TOP 5</h2>
<table>
  <tr>
    <th>차량명</th>
    <th>평균 렌트 시간</th>
  </tr>
  <tr th:each="rental : ${topCarRentalDuration}">
    <td th:text="${rental.label}"></td>
    <td th:text="${rental.count + '시간'}"></td>
  </tr>
</table>

<!-- 평균 렌트 시간 링크 -->
<h2>⏳ 평균 렌트 시간</h2>
<p>
  <a href="/api/admin/fast-reservation" th:text="'빠른 예약 평균 렌트 시간'"></a>
  <a href="/api/admin/short-reservation" th:text="'단기 예약 평균 렌트 시간'"></a>
</p>

<!-- 가장 인기 있는 차량 -->
<h2>🔥 가장 인기 있는 차량 TOP 5</h2>
<table>
  <tr>
    <th>차량명</th>
    <th>예약 횟수</th>
  </tr>
  <tr th:each="car : ${TopPopularCars}">
    <td th:text="${car.label}"></td>
    <td th:text="${car.count}"></td>
  </tr>
</table>

</body>
</html>
