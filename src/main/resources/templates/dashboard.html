<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>대시보드</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<h1>📊 DASHBOARD</h1>

<!-- 전체 회원 통계 -->
<h2>👥 전체 회원 수</h2>
<p class="total-users">총 회원 수: <span th:text="${userStats.totalUsers}"></span> 명</p>

<!-- 성별 통계 -->
<h2>🚻 성별 통계</h2>
<table>
  <tr>
    <th>성별</th>
    <th>남성</th>
    <th>여성</th>
  </tr>
  <tr>
    <td>인원 수</td>
    <td th:text="${userStats.genderStats != null and userStats.genderStats.size() > 0 ? userStats.genderStats[0].count : 0}">0</td>
    <td th:text="${userStats.genderStats != null and userStats.genderStats.size() > 1 ? userStats.genderStats[1].count : 0}">0</td>
  </tr>
</table>

<!-- 연령대 통계 -->
<h2>📌 연령대별 통계</h2>
<table>
  <tr>
    <th>연령대</th>
    <th>인원 수</th>
  </tr>
  <tr th:each="entry : ${userStats.ageGroups}">
    <td th:text="${entry.key}"></td>
    <td th:text="${entry.value}"></td>
  </tr>
</table>


<!-- 예약 관련 링크 -->
<h2>📋 예약 통계</h2>
<div class="links-container">
  <a th:href="@{/api/admin/fast-reservation-hours}">⬆️ 빠른 예약 시간대 TOP 5</a>
  <a th:href="@{/api/admin/short-reservation-hours}">⬆️ 단기 예약 시간대 TOP 5</a>
</div>

<!-- 대여 & 반납 지역 통계 -->
<h2>🚗 대여 & 반납 지역 통계</h2>
<div class="links-container">
  <a th:href="@{/api/admin/fast-rental-locations}">🚗 빠른 예약 <br> 가장 많이 대여한 지역 TOP 5</a>
  <a th:href="@{/api/admin/fast-return-locations}">🔄 빠른 예약 <br> 가장 많이 반납한 지역 TOP 5</a>
  <a th:href="@{/api/admin/short-rental-locations}">🚗 단기 예약 <br> 가장 많이 대여한 지역 TOP 5</a>
  <a th:href="@{/api/admin/short-return-locations}">🔄 단기 예약 <br> 가장 많이 반납한 지역 TOP 5</a>
</div>


<!-- 평균 렌트 시간 -->
<h2>⏳ 평균 렌트 시간</h2>
<div class="links-container">
  <a th:href="@{/api/admin/fast-reservation}">⏳ 빠른 예약 평균 렌트 시간</a>
  <a th:href="@{/api/admin/short-reservation}">⏳ 단기 예약 평균 렌트 시간</a>
</div>

<!-- 가장 인기 있는 차량 -->
<h2>🔥 가장 인기 있는 차량</h2>
<div class="links-container">
  <a th:href="@{/api/admin/fast-popular-cars}">🔥 빠른 예약 가장 인기 있는 차량</a>
  <a th:href="@{/api/admin/short-popular-cars}">🔥 단기 예약 가장 인기 있는 차량</a>
</div>

<h2>🔥 가장 인기 있는 차량 TOP 5</h2>
<table>
  <tr>
    <th>차량명</th>
    <th>예약 횟수</th>
  </tr>
  <tr th:each="car : ${topAllPopularCars}">
    <td th:text="${car.label}"></td>
    <td th:text="${car.count}"></td>
  </tr>
</table>
</body>
</html>
